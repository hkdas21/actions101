name: Matrix Config

on: workflow_dispatch

jobs:
    # deploy-on-ubunutu:
    #     runs-on: ubunutu-latest
    #     steps:
    #     - name: Echo Docker details
    #       run: docker info
    #     - name: Run Images
    #       run: docker run hello-world
    
    # deploy-on-windows:
    #     runs-on: windows-latest
    #     steps:
    #     - name: Echo Docker details
    #       run: docker info
    #     - name: Run Images
    #       run: docker run hello-world

    deploy:
        strategy:
            fail-fast: false
            max-parallel: 2
            matrix:
                OS: [ubuntu-latest, windows-latest]
                images: [hello-world, alpine]
                exclude:
                    - images: alpine
                      os: windows-latest
        runs-on: ${{ matrix.OS}}
        steps:
        - name: Echo docker
          run: docker info
        - name: RUn Images on ${{ matrix.OS}}
          run: docker run ${{ matrix.images}}